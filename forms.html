<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit 3: Forms and User Input Handling - Comprehensive Demo</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
            line-height: 1.6;
        }
        
        .container {
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
            text-align: center;
        }
        
        h2 {
            color: #27ae60;
            margin-top: 30px;
            border-left: 4px solid #27ae60;
            padding-left: 15px;
        }
        
        h3 {
            color: #e74c3c;
            margin-top: 25px;
        }
        
        .explanation {
            background-color: #f0f8ff;
            border-left: 4px solid #2196F3;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }
        
        .code-example {
            background-color: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
            overflow-x: auto;
        }
        
        .demo-form {
            background-color: #f8f9fa;
            padding: 20px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            margin: 20px 0;
        }
        
        .form-section {
            margin-bottom: 30px;
            padding: 15px;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            background-color: #ffffff;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #495057;
        }
        
        input[type="text"],
        input[type="email"],
        input[type="password"],
        input[type="tel"],
        input[type="url"],
        input[type="number"],
        input[type="date"],
        textarea,
        select {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #ced4da;
            border-radius: 4px;
            font-size: 16px;
            box-sizing: border-box;
        }
        
        input[type="checkbox"],
        input[type="radio"] {
            margin-right: 8px;
        }
        
        button {
            background-color: #007bff;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            margin: 5px;
        }
        
        button:hover {
            background-color: #0056b3;
        }
        
        button.secondary {
            background-color: #6c757d;
        }
        
        button.secondary:hover {
            background-color: #545b62;
        }
        
        button.success {
            background-color: #28a745;
        }
        
        button.success:hover {
            background-color: #1e7e34;
        }
        
        button.danger {
            background-color: #dc3545;
        }
        
        button.danger:hover {
            background-color: #c82333;
        }
        
        .validation-message {
            color: #dc3545;
            font-size: 14px;
            margin-top: 5px;
            display: none;
        }
        
        .success-message {
            color: #28a745;
            font-size: 14px;
            margin-top: 5px;
            display: none;
        }
        
        .form-output {
            background-color: #e9ecef;
            padding: 15px;
            border-radius: 5px;
            margin-top: 15px;
            font-family: monospace;
        }
        
        .highlight {
            background-color: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 15px 0;
        }
        
        .warning {
            background-color: #f8d7da;
            border-left: 4px solid #dc3545;
            padding: 15px;
            margin: 15px 0;
        }
        
        .info {
            background-color: #d1ecf1;
            border-left: 4px solid #17a2b8;
            padding: 15px;
            margin: 15px 0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        table, th, td {
            border: 1px solid #ddd;
        }
        
        th, td {
            padding: 12px;
            text-align: left;
        }
        
        th {
            background-color: #f8f9fa;
            font-weight: bold;
        }
        
        .checkbox-group, .radio-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 10px;
        }
        
        .checkbox-item, .radio-item {
            display: flex;
            align-items: center;
        }
        
        .form-attributes {
            background-color: #e3f2fd;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
        }
        
        .method-demo {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        
        .method-example {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            border: 1px solid #dee2e6;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Unit 3: Forms and User Input Handling</h1>
        <p style="text-align: center; font-size: 1.1em; color: #666;">
            Comprehensive demonstration of HTML forms, input handling, validation, and JavaScript integration
        </p>
        
        <div class="explanation">
            <h3>What You'll Learn:</h3>
            <ul>
                <li>HTML form structure and key attributes</li>
                <li>Different input types and their purposes</li>
                <li>Accessing form data with JavaScript</li>
                <li>Event handling for forms</li>
                <li>Client-side validation techniques</li>
                <li>HTML5 validation attributes</li>
                <li>Best practices for user input handling</li>
            </ul>
        </div>

        <h2>3.1 HTML Forms: Structure and Elements</h2>
        
        <div class="explanation">
            <p>HTML forms are used to collect user input and send it to a server for processing. The <code>&lt;form&gt;</code> element acts as a container for various form controls and defines how the data should be submitted.</p>
        </div>

        <h3>Key Form Attributes</h3>
        
        <div class="form-attributes">
            <h4>Essential &lt;form&gt; Attributes:</h4>
            <table>
                <thead>
                    <tr>
                        <th>Attribute</th>
                        <th>Purpose</th>
                        <th>Example Values</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>action</strong></td>
                        <td>URL where form data is sent</td>
                        <td>"process.php", "/submit", "#"</td>
                        <td>Specifies the destination for form submission. If omitted, submits to current page.</td>
                    </tr>
                    <tr>
                        <td><strong>method</strong></td>
                        <td>HTTP method for submission</td>
                        <td>"GET", "POST"</td>
                        <td><strong>GET:</strong> Data in URL (visible, limited size)<br><strong>POST:</strong> Data in body (hidden, larger size)</td>
                    </tr>
                    <tr>
                        <td><strong>enctype</strong></td>
                        <td>Encoding type for data</td>
                        <td>"application/x-www-form-urlencoded", "multipart/form-data"</td>
                        <td>Use "multipart/form-data" for file uploads</td>
                    </tr>
                    <tr>
                        <td><strong>target</strong></td>
                        <td>Where to display response</td>
                        <td>"_self", "_blank", "_parent"</td>
                        <td>Controls where the form response opens</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="method-demo">
            <div class="method-example">
                <h4>GET Method Example</h4>
                <div class="code-example">
&lt;form action="/search" method="GET"&gt;
  &lt;input type="text" name="query"&gt;
  &lt;button type="submit"&gt;Search&lt;/button&gt;
&lt;/form&gt;

<!-- Results in URL: /search?query=userInput -->
                </div>
                <p><strong>Best for:</strong> Search forms, filters, bookmarkable URLs</p>
            </div>
            
            <div class="method-example">
                <h4>POST Method Example</h4>
                <div class="code-example">
&lt;form action="/register" method="POST"&gt;
  &lt;input type="password" name="password"&gt;
  &lt;button type="submit"&gt;Register&lt;/button&gt;
&lt;/form&gt;

<!-- Data sent in request body, not visible in URL -->
                </div>
                <p><strong>Best for:</strong> Login forms, sensitive data, large data</p>
            </div>
        </div>

        <h2>3.2 Common Form Input Types</h2>
        
        <div class="explanation">
            <p>HTML provides various input types to collect different kinds of data. Each type has specific behavior and validation rules.</p>
        </div>

        <div class="demo-form">
            <h3>Interactive Input Types Demo</h3>
            
            <form id="inputTypesDemo" action="#" method="post">
                <div class="form-section">
                    <h4>Text-Based Inputs</h4>
                    
                    <div class="form-group">
                        <label for="textInput">Text Field:</label>
                        <input type="text" id="textInput" name="textInput" placeholder="Enter any text">
                        <div class="explanation">
                            <strong>Purpose:</strong> Single-line text input for names, titles, etc.<br>
                            <strong>Code:</strong> <code>&lt;input type="text"&gt;</code>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="passwordInput">Password Field:</label>
                        <input type="password" id="passwordInput" name="passwordInput" placeholder="Enter password">
                        <div class="explanation">
                            <strong>Purpose:</strong> Hides text characters for security<br>
                            <strong>Code:</strong> <code>&lt;input type="password"&gt;</code><br>
                            <strong>Note:</strong> Characters are masked with dots or asterisks
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="emailInput">Email Field:</label>
                        <input type="email" id="emailInput" name="emailInput" placeholder="user@example.com">
                        <div class="explanation">
                            <strong>Purpose:</strong> Email validation and mobile keyboard optimization<br>
                            <strong>Code:</strong> <code>&lt;input type="email"&gt;</code><br>
                            <strong>Validation:</strong> Automatically checks for valid email format
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="telInput">Phone Field:</label>
                        <input type="tel" id="telInput" name="telInput" placeholder="+1-234-567-8900">
                        <div class="explanation">
                            <strong>Purpose:</strong> Phone number input with numeric keypad on mobile<br>
                            <strong>Code:</strong> <code>&lt;input type="tel"&gt;</code>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="urlInput">URL Field:</label>
                        <input type="url" id="urlInput" name="urlInput" placeholder="https://example.com">
                        <div class="explanation">
                            <strong>Purpose:</strong> URL validation and mobile keyboard optimization<br>
                            <strong>Code:</strong> <code>&lt;input type="url"&gt;</code>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h4>Numeric and Date Inputs</h4>
                    
                    <div class="form-group">
                        <label for="numberInput">Number Field:</label>
                        <input type="number" id="numberInput" name="numberInput" min="1" max="100" step="1" placeholder="1-100">
                        <div class="explanation">
                            <strong>Purpose:</strong> Numeric input with validation and spinner controls<br>
                            <strong>Code:</strong> <code>&lt;input type="number" min="1" max="100"&gt;</code><br>
                            <strong>Attributes:</strong> min, max, step for range control
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="dateInput">Date Field:</label>
                        <input type="date" id="dateInput" name="dateInput">
                        <div class="explanation">
                            <strong>Purpose:</strong> Date picker interface<br>
                            <strong>Code:</strong> <code>&lt;input type="date"&gt;</code><br>
                            <strong>Format:</strong> YYYY-MM-DD (ISO format)
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="rangeInput">Range Slider:</label>
                        <input type="range" id="rangeInput" name="rangeInput" min="50" max="100" value="50">
                        <span id="rangeValue">50</span>
                        <div class="explanation">
                            <strong>Purpose:</strong> Visual slider for selecting numeric values<br>
                            <strong>Code:</strong> <code>&lt;input type="range" min="0" max="100"&gt;</code>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h4>Selection Inputs</h4>
                    
                    <div class="form-group">
                        <label>Checkbox Options (Multiple Selection):</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="hobby1" name="hobbies" value="reading">
                                <label for="hobby1">Reading</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="hobby2" name="hobbies" value="sports">
                                <label for="hobby2">Sports</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="hobby3" name="hobbies" value="music">
                                <label for="hobby3">Music</label>
                            </div>
                        </div>
                        <div class="explanation">
                            <strong>Purpose:</strong> Allow multiple selections from a list<br>
                            <strong>Code:</strong> <code>&lt;input type="checkbox" name="hobbies" value="reading"&gt;</code><br>
                            <strong>Note:</strong> Each checkbox can be independently checked/unchecked
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Radio Buttons (Single Selection):</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input type="radio" id="size1" name="size" value="small">
                                <label for="size1">Small</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="size2" name="size" value="medium">
                                <label for="size2">Medium</label>
                            </div>
                            <div class="radio-item">
                                <input type="radio" id="size3" name="size" value="large">
                                <label for="size3">Large</label>
                            </div>
                        </div>
                        <div class="explanation">
                            <strong>Purpose:</strong> Select one option from multiple choices<br>
                            <strong>Code:</strong> <code>&lt;input type="radio" name="size" value="small"&gt;</code><br>
                            <strong>Key:</strong> All radio buttons must have the same <code>name</code> attribute
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="countrySelect">Dropdown Selection:</label>
                        <select id="countrySelect" name="country">
                            <option value="">Select a country</option>
                            <option value="us">United States</option>
                            <option value="ca">Canada</option>
                            <option value="uk">United Kingdom</option>
                            <option value="ph">Philippines</option>
                        </select>
                        <div class="explanation">
                            <strong>Purpose:</strong> Dropdown list for single or multiple selection<br>
                            <strong>Code:</strong> <code>&lt;select&gt;&lt;option value="us"&gt;United States&lt;/option&gt;&lt;/select&gt;</code><br>
                            <strong>Attribute:</strong> Add <code>multiple</code> for multi-selection
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h4>Text Area and File Input</h4>
                    
                    <div class="form-group">
                        <label for="messageTextarea">Multi-line Text Area:</label>
                        <textarea id="messageTextarea" name="message" rows="4" placeholder="Enter your message here..."></textarea>
                        <div class="explanation">
                            <strong>Purpose:</strong> Multi-line text input for longer content<br>
                            <strong>Code:</strong> <code>&lt;textarea rows="4" cols="50"&gt;&lt;/textarea&gt;</code><br>
                            <strong>Attributes:</strong> rows, cols for size; or use CSS for responsive design
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="fileInput">File Upload:</label>
                        <input type="file" id="fileInput" name="fileUpload" accept=".pdf,.doc,.docx">
                        <div class="explanation">
                            <strong>Purpose:</strong> Allow users to upload files<br>
                            <strong>Code:</strong> <code>&lt;input type="file" accept=".pdf,.doc"&gt;</code><br>
                            <strong>Note:</strong> Form must have <code>enctype="multipart/form-data"</code> for file uploads
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h4>Submit and Reset Buttons</h4>
                    
                    <div class="form-group">
                        <button type="submit">Submit Form</button>
                        <button type="reset" class="secondary">Reset Form</button>
                        <button type="button" class="success" onclick="displayFormData()">Preview Data</button>
                        <div class="explanation">
                            <strong>Button Types:</strong><br>
                            • <code>type="submit"</code> - Submits the form<br>
                            • <code>type="reset"</code> - Clears all form fields<br>
                            • <code>type="button"</code> - Custom JavaScript functionality<br>
                            <strong>Alternative:</strong> <code>&lt;input type="submit" value="Submit"&gt;</code>
                        </div>
                    </div>
                </div>
            </form>
            
            <div id="formOutput" class="form-output" style="display: none;">
                <h4>Form Data Preview:</h4>
                <div id="outputContent"></div>
            </div>
        </div>

        <h2>3.3 Accessing Form Data with JavaScript</h2>
        
        <div class="explanation">
            <p>JavaScript provides multiple ways to access and manipulate form data. Here are the most common approaches:</p>
        </div>

        <div class="code-example">
// Method 1: Direct element access by ID
const nameValue = document.getElementById('textInput').value;

// Method 2: Using form elements collection
const form = document.getElementById('inputTypesDemo');
const emailValue = form.elements['emailInput'].value;

// Method 3: Using querySelector
const passwordValue = document.querySelector('#passwordInput').value;

// Method 4: FormData object (modern approach)
const formData = new FormData(form);
const allData = Object.fromEntries(formData);

// Method 5: Accessing all form values at once
function getAllFormData(formId) {
    const form = document.getElementById(formId);
    const data = {};
    
    // Get all form elements
    for (let element of form.elements) {
        if (element.name) {
            if (element.type === 'checkbox') {
                // Handle checkboxes (multiple values possible)
                if (!data[element.name]) data[element.name] = [];
                if (element.checked) data[element.name].push(element.value);
            } else if (element.type === 'radio') {
                // Handle radio buttons (single value)
                if (element.checked) data[element.name] = element.value;
            } else if (element.type !== 'submit' && element.type !== 'reset') {
                // Handle other input types
                data[element.name] = element.value;
            }
        }
    }
    
    return data;
    console.log(data);
}
        </div>

        <h2>3.4 Event Handling for Forms</h2>
        
        <div class="explanation">
            <p>Form events allow you to respond to user interactions and control form behavior:</p>
        </div>

        <div class="demo-form">
            <h3>Event Handling Demo</h3>
            
            <form id="eventDemo" action="#" method="post">
                <div class="form-group">
                    <label for="eventInput">Try typing, focusing, and blurring:</label>
                    <input type="text" id="eventInput" name="eventInput" placeholder="Watch the events below...">
                </div>
                
                <div class="form-group">
                    <label for="eventSelect">Change this dropdown:</label>
                    <select id="eventSelect" name="eventSelect">
                        <option value="">Select an option</option>
                        <option value="option1">Option 1</option>
                        <option value="option2">Option 2</option>
                        <option value="option3">Option 3</option>
                    </select>
                </div>
                
                <button type="submit">Submit (will be prevented)</button>
                
                <div id="eventLog" class="form-output">
                    <h4>Event Log:</h4>
                    <div id="eventLogContent">Events will appear here...</div>
                </div>
            </form>
        </div>

        <div class="code-example">
// Common form events and their usage

// 1. Form submission event
form.addEventListener('submit', function(event) {
    event.preventDefault(); // Prevent default submission
    console.log('Form submitted');
    // Perform validation or AJAX submission
});

// 2. Input events
input.addEventListener('input', function(event) {
    console.log('Input value changed:', event.target.value);
    // Real-time validation or search suggestions
});

// 3. Focus and blur events
input.addEventListener('focus', function(event) {
    console.log('Input focused');
    // Show help text or highlight field
});

input.addEventListener('blur', function(event) {
    console.log('Input lost focus');
    // Validate field when user moves away
});

// 4. Change event (for select, radio, checkbox)
select.addEventListener('change', function(event) {
    console.log('Selection changed:', event.target.value);
    // Update dependent fields
});

// 5. Using event delegation (efficient for multiple elements)
document.addEventListener('input', function(event) {
    if (event.target.matches('input[type="text"]')) {
        // Handle all text inputs
        validateField(event.target);
    }
});
        </div>

        <h2>3.5 Client-Side Form Validation</h2>
        
        <div class="explanation">
            <p>Client-side validation improves user experience by providing immediate feedback before form submission:</p>
        </div>

        <div class="demo-form">
            <h3>Custom Validation Demo</h3>
            
            <form id="validationDemo" action="#" method="post" novalidate>
                <div class="form-group">
                    <label for="validationName">Full Name (Required, min 2 characters):</label>
                    <input type="text" id="validationName" name="validationName" required>
                    <div class="validation-message" id="nameError"></div>
                    <div class="success-message" id="nameSuccess"></div>
                </div>
                
                <div class="form-group">
                    <label for="validationEmail">Email (Must be valid format):</label>
                    <input type="email" id="validationEmail" name="validationEmail" required>
                    <div class="validation-message" id="emailError"></div>
                    <div class="success-message" id="emailSuccess"></div>
                </div>
                
                <div class="form-group">
                    <label for="validationPhone">Phone (Format: 123-456-7890):</label>
                    <input type="tel" id="validationPhone" name="validationPhone" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" required>
                    <div class="validation-message" id="phoneError"></div>
                    <div class="success-message" id="phoneSuccess"></div>
                </div>
                
                <div class="form-group">
                    <label for="validationPassword">Password (Min 8 characters, include number and special char):</label>
                    <input type="password" id="validationPassword" name="validationPassword" required>
                    <div class="validation-message" id="passwordError"></div>
                    <div class="success-message" id="passwordSuccess"></div>
                </div>
                
                <div class="form-group">
                    <label for="validationConfirm">Confirm Password:</label>
                    <input type="password" id="validationConfirm" name="validationConfirm" required>
                    <div class="validation-message" id="confirmError"></div>
                    <div class="success-message" id="confirmSuccess"></div>
                </div>
                
                <button type="submit" id="validationSubmit">Submit with Validation</button>
                <button type="button" class="secondary" onclick="clearValidation()">Clear All</button>
            </form>
        </div>

        <div class="code-example">
// Custom validation functions

function validateRequired(value, fieldName) {
    if (!value.trim()) {
        return `${fieldName} is required`;
    }
    return null;
}

function validateMinLength(value, minLength, fieldName) {
    if (value.length < minLength) {
        return `${fieldName} must be at least ${minLength} characters`;
    }
    return null;
}

function validateEmail(email) {
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!emailRegex.test(email)) {
        return 'Please enter a valid email address';
    }
    return null;
}

function validatePhone(phone) {
    const phoneRegex = /^[0-9]{3}-[0-9]{3}-[0-9]{4}$/;
    if (!phoneRegex.test(phone)) {
        return 'Please enter phone in format: 123-456-7890';
    }
    return null;
}

function validatePassword(password) {
    if (password.length < 8) {
        return 'Password must be at least 8 characters';
    }
    if (!/\d/.test(password)) {
        return 'Password must contain at least one number';
    }
    if (!/[!@#$%^&*]/.test(password)) {
        return 'Password must contain at least one special character';
    }
    return null;
}

// Real-time validation implementation
function setupValidation() {
    const fields = [
        { id: 'validationName', validator: (value) => validateRequired(value, 'Full Name') || validateMinLength(value, 2, 'Full Name') },
        { id: 'validationEmail', validator: (value) => validateRequired(value, 'Email') || validateEmail(value) },
        { id: 'validationPhone', validator: (value) => validateRequired(value, 'Phone') || validatePhone(value) },
        { id: 'validationPassword', validator: (value) => validateRequired(value, 'Password') || validatePassword(value) }
    ];
    
    fields.forEach(field => {
        const element = document.getElementById(field.id);
        element.addEventListener('blur', () => validateField(field.id, field.validator));
        element.addEventListener('input', () => clearFieldValidation(field.id));
    });
}
        </div>

        <h2>3.6 HTML5 Validation Attributes</h2>
        
        <div class="explanation">
            <p>HTML5 provides built-in validation attributes that work without JavaScript:</p>
        </div>

        <div class="demo-form">
            <h3>HTML5 Validation Demo</h3>
            
            <form id="html5ValidationDemo" action="#" method="post">
                <div class="form-group">
                    <label for="html5Required">Required Field:</label>
                    <input type="text" id="html5Required" name="html5Required" required>
                    <small>Uses: <code>required</code> attribute</small>
                </div>
                
                <div class="form-group">
                    <label for="html5MinMax">Text Length (5-20 characters):</label>
                    <input type="text" id="html5MinMax" name="html5MinMax" minlength="5" maxlength="20" >
                    <small>Uses: <code>minlength="5" maxlength="20"</code></small>
                </div>
                
                <div class="form-group">
                    <label for="html5Pattern">Username (letters and numbers only):</label>
                    <input type="text" id="html5Pattern" name="html5Pattern" pattern="[A-Za-z0-9]+" title="Only letters and numbers allowed" required>
                    <small>Uses: <code>pattern="[A-Za-z0-9]+"</code></small>
                </div>
                
                <div class="form-group">
                    <label for="html5Number">Age (18-100):</label>
                    <input type="number" id="html5Number" name="html5Number" min="18" max="100" required>
                    <small>Uses: <code>type="number" min="18" max="100"</code></small>
                </div>
                
                <div class="form-group">
                    <label for="html5Email">Email (automatic validation):</label>
                    <input type="email" id="html5Email" name="html5Email" required>
                    <small>Uses: <code>type="email"</code></small>
                </div>
                
                <button type="submit">Try Submit (see browser validation)</button>
                <button type="button" class="secondary" onclick="toggleCustomValidity()">Toggle Custom Message</button>
            </form>
        </div>

        <table>
            <thead>
                <tr>
                    <th>Attribute</th>
                    <th>Purpose</th>
                    <th>Example</th>
                    <th>Validation Message</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>required</code></td>
                    <td>Field must be filled out</td>
                    <td><code>&lt;input required&gt;</code></td>
                    <td>"Please fill out this field"</td>
                </tr>
                <tr>
                    <td><code>minlength</code></td>
                    <td>Minimum character count</td>
                    <td><code>&lt;input minlength="5"&gt;</code></td>
                    <td>"Please lengthen this text to 5 characters or more"</td>
                </tr>
                <tr>
                    <td><code>maxlength</code></td>
                    <td>Maximum character count</td>
                    <td><code>&lt;input maxlength="20"&gt;</code></td>
                    <td>Prevents typing beyond limit</td>
                </tr>
                <tr>
                    <td><code>pattern</code></td>
                    <td>Regex pattern matching</td>
                    <td><code>&lt;input pattern="[0-9]{3}-[0-9]{2}"&gt;</code></td>
                    <td>"Please match the requested format"</td>
                </tr>
                <tr>
                    <td><code>min/max</code></td>
                    <td>Numeric range validation</td>
                    <td><code>&lt;input type="number" min="1" max="10"&gt;</code></td>
                    <td>"Value must be greater than or equal to 1"</td>
                </tr>
                <tr>
                    <td><code>type</code></td>
                    <td>Format-specific validation</td>
                    <td><code>&lt;input type="email"&gt;</code></td>
                    <td>"Please enter an email address"</td>
                </tr>
            </tbody>
        </table>

        <h2>3.7 Best Practices in User Input Handling</h2>
        
        <div class="warning">
            <h3>Security Considerations</h3>
            <ul>
                <li><strong>Always validate on server-side:</strong> Client-side validation can be bypassed</li>
                <li><strong>Sanitize input:</strong> Prevent XSS and injection attacks</li>
                <li><strong>Use HTTPS:</strong> Encrypt sensitive data in transit</li>
                <li><strong>Implement rate limiting:</strong> Prevent spam and abuse</li>
            </ul>
        </div>

        <div class="info">
            <h3>User Experience Best Practices</h3>
            <ul>
                <li><strong>Provide clear feedback:</strong> Show success and error states</li>
                <li><strong>Use appropriate input types:</strong> Optimize for mobile keyboards</li>
                <li><strong>Include helpful labels:</strong> Use placeholders and examples</li>
                <li><strong>Validate in real-time:</strong> Don't wait for form submission</li>
                <li><strong>Prevent double submission:</strong> Disable submit button after clicking</li>
                <li><strong>Save user progress:</strong> Preserve data on page refresh</li>
            </ul>
        </div>

        <div class="demo-form">
            <h3>Best Practices Implementation</h3>
            
            <form id="bestPracticesDemo" action="#" method="post">
                <div class="form-group">
                    <label for="bestName">Full Name *</label>
                    <input type="text" id="bestName" name="bestName" required 
                           placeholder="Enter your full name" 
                           autocomplete="name"
                           aria-describedby="nameHelp">
                    <small id="nameHelp">This will be displayed on your profile</small>
                </div>
                
                <div class="form-group">
                    <label for="bestEmail">Email Address *</label>
                    <input type="email" id="bestEmail" name="bestEmail" required 
                           placeholder="you@example.com"
                           autocomplete="email"
                           aria-describedby="emailHelp">
                    <small id="emailHelp">We'll never share your email with anyone</small>
                </div>
                
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="bestTerms" name="bestTerms" required>
                        I agree to the <a href="#" target="_blank">Terms of Service</a> *
                    </label>
                </div>
                
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="bestNewsletter" name="bestNewsletter">
                        Subscribe to our newsletter (optional)
                    </label>
                </div>
                
                <button type="submit" id="bestSubmitBtn">
                    <span id="submitText">Create Account</span>
                    <span id="submitLoading" style="display: none;">Processing...</span>
                </button>
                
                <p><small>* Required fields</small></p>
            </form>
        </div>

        <div class="code-example">
// Best practices implementation

// 1. Prevent double submission
function handleFormSubmit(event) {
    event.preventDefault();
    
    const submitBtn = document.getElementById('bestSubmitBtn');
    const submitText = document.getElementById('submitText');
    const submitLoading = document.getElementById('submitLoading');
    
    // Disable button and show loading state
    submitBtn.disabled = true;
    submitText.style.display = 'none';
    submitLoading.style.display = 'inline';
    
    // Simulate form processing
    setTimeout(() => {
        // Re-enable button after processing
        submitBtn.disabled = false;
        submitText.style.display = 'inline';
        submitLoading.style.display = 'none';
        
        alert('Form submitted successfully!');
    }, 2000);
}

// 2. Save form data to localStorage
function saveFormData() {
    const formData = {};
    const form = document.getElementById('bestPracticesDemo');
    
    for (let element of form.elements) {
        if (element.name && element.type !== 'password') {
            if (element.type === 'checkbox') {
                formData[element.name] = element.checked;
            } else {
                formData[element.name] = element.value;
            }
        }
    }
    
    localStorage.setItem('formData', JSON.stringify(formData));
}

// 3. Restore form data from localStorage
function restoreFormData() {
    const savedData = localStorage.getItem('formData');
    if (savedData) {
        const formData = JSON.parse(savedData);
        const form = document.getElementById('bestPracticesDemo');
        
        for (let [name, value] of Object.entries(formData)) {
            const element = form.elements[name];
            if (element) {
                if (element.type === 'checkbox') {
                    element.checked = value;
                } else {
                    element.value = value;
                }
            }
        }
    }
}

// 4. Accessibility improvements
function enhanceAccessibility() {
    // Add ARIA labels for screen readers
    const requiredFields = document.querySelectorAll('input[required]');
    requiredFields.forEach(field => {
        field.setAttribute('aria-required', 'true');
    });
    
    // Associate error messages with fields
    const errorMessages = document.querySelectorAll('.validation-message');
    errorMessages.forEach(message => {
        const fieldId = message.id.replace('Error', '');
        const field = document.getElementById(fieldId);
        if (field) {
            field.setAttribute('aria-describedby', message.id);
        }
    });
}
        </div>

        <div class="highlight">
            <h3>Summary Checklist</h3>
            <ul>
                <li>✅ Use appropriate input types for better user experience</li>
                <li>✅ Implement both client-side and server-side validation</li>
                <li>✅ Provide clear, helpful error messages</li>
                <li>✅ Use semantic HTML and proper labeling</li>
                <li>✅ Prevent double submissions and provide loading states</li>
                <li>✅ Save user progress when possible</li>
                <li>✅ Test forms with screen readers and keyboard navigation</li>
                <li>✅ Sanitize and validate all data on the server</li>
            </ul>
        </div>
    </div>

    <script>
        // Range slider value display
        document.getElementById('rangeInput').addEventListener('input', function() {
            document.getElementById('rangeValue').textContent = this.value;
        });

        // Form data display function
        function displayFormData() {
            const form = document.getElementById('inputTypesDemo');
            const output = document.getElementById('formOutput');
            const content = document.getElementById('outputContent');
            
            const data = {};
            
            // Collect all form data
            for (let element of form.elements) {
                if (element.name && element.type !== 'submit' && element.type !== 'reset' && element.type !== 'button') {
                    if (element.type === 'checkbox') {
                        if (!data[element.name]) data[element.name] = [];
                        if (element.checked) data[element.name].push(element.value);
                    } else if (element.type === 'radio') {
                        if (element.checked) data[element.name] = element.value;
                    } else {
                        data[element.name] = element.value;
                    }
                }
            }
            
            // Display data
            let html = '<pre>' + JSON.stringify(data, null, 2) + '</pre>';
            content.innerHTML = html;
            output.style.display = 'block';
        }

        // Event handling demo
        function setupEventDemo() {
            const eventInput = document.getElementById('eventInput');
            const eventSelect = document.getElementById('eventSelect');
            const eventForm = document.getElementById('eventDemo');
            const eventLog = document.getElementById('eventLogContent');
            
            function logEvent(message) {
                const timestamp = new Date().toLocaleTimeString();
                eventLog.innerHTML += `<div>[${timestamp}] ${message}</div>`;
                eventLog.scrollTop = eventLog.scrollHeight;
            }
            
            eventInput.addEventListener('focus', () => logEvent('Input focused'));
            eventInput.addEventListener('blur', () => logEvent('Input lost focus'));
            eventInput.addEventListener('input', (e) => logEvent(`Input changed: "${e.target.value}"`));
            
            eventSelect.addEventListener('change', (e) => logEvent(`Selection changed: "${e.target.value}"`));
            
            eventForm.addEventListener('submit', (e) => {
                e.preventDefault();
                logEvent('Form submission prevented');
            });
        }

        // Validation functions
        function validateField(fieldId, validator) {
            const field = document.getElementById(fieldId);
            const errorElement = document.getElementById(fieldId.replace('validation', '') + 'Error');
            const successElement = document.getElementById(fieldId.replace('validation', '') + 'Success');
            
            const error = validator(field.value);
            
            if (error) {
                errorElement.textContent = error;
                errorElement.style.display = 'block';
                successElement.style.display = 'none';
                field.style.borderColor = '#dc3545';
                return false;
            } else {
                errorElement.style.display = 'none';
                successElement.textContent = '✓ Valid';
                successElement.style.display = 'block';
                field.style.borderColor = '#28a745';
                return true;
            }
        }
        
        function clearFieldValidation(fieldId) {
            const field = document.getElementById(fieldId);
            const errorElement = document.getElementById(fieldId.replace('validation', '') + 'Error');
            const successElement = document.getElementById(fieldId.replace('validation', '') + 'Success');
            
            errorElement.style.display = 'none';
            successElement.style.display = 'none';
            field.style.borderColor = '#ced4da';
        }
        
        function clearValidation() {
            const form = document.getElementById('validationDemo');
            form.reset();
            
            // Clear all validation states
            const fields = ['validationName', 'validationEmail', 'validationPhone', 'validationPassword', 'validationConfirm'];
            fields.forEach(fieldId => clearFieldValidation(fieldId));
        }

        // Validation setup
        function setupValidation() {
            const nameField = document.getElementById('validationName');
            const emailField = document.getElementById('validationEmail');
            const phoneField = document.getElementById('validationPhone');
            const passwordField = document.getElementById('validationPassword');
            const confirmField = document.getElementById('validationConfirm');
            
            nameField.addEventListener('blur', () => {
                const value = nameField.value;
                let error = null;
                if (!value.trim()) error = 'Full Name is required';
                else if (value.length < 2) error = 'Full Name must be at least 2 characters';
                
                validateField('validationName', () => error);
            });
            
            emailField.addEventListener('blur', () => {
                const value = emailField.value;
                let error = null;
                if (!value.trim()) error = 'Email is required';
                else if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value)) error = 'Please enter a valid email address';
                
                validateField('validationEmail', () => error);
            });
            
            phoneField.addEventListener('blur', () => {
                const value = phoneField.value;
                let error = null;
                if (!value.trim()) error = 'Phone is required';
                else if (!/^[0-9]{3}-[0-9]{3}-[0-9]{4}$/.test(value)) error = 'Please enter phone in format: 123-456-7890';
                
                validateField('validationPhone', () => error);
            });
            
            passwordField.addEventListener('blur', () => {
                const value = passwordField.value;
                let error = null;
                if (!value) error = 'Password is required';
                else if (value.length < 8) error = 'Password must be at least 8 characters';
                else if (!/\d/.test(value)) error = 'Password must contain at least one number';
                else if (!/[!@#$%^&*]/.test(value)) error = 'Password must contain at least one special character';
                
                validateField('validationPassword', () => error);
            });
            
            confirmField.addEventListener('blur', () => {
                const value = confirmField.value;
                const passwordValue = passwordField.value;
                let error = null;
                if (!value) error = 'Please confirm your password';
                else if (value !== passwordValue) error = 'Passwords do not match';
                
                validateField('validationConfirm', () => error);
            });
            
            // Form submission validation
            document.getElementById('validationDemo').addEventListener('submit', (e) => {
                e.preventDefault();
                
                // Validate all fields
                const isValid = [
                    validateField('validationName', () => {
                        const value = nameField.value;
                        if (!value.trim()) return 'Full Name is required';
                        if (value.length < 2) return 'Full Name must be at least 2 characters';
                        return null;
                    }),
                    validateField('validationEmail', () => {
                        const value = emailField.value;
                        if (!value.trim()) return 'Email is required';
                        if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value)) return 'Please enter a valid email address';
                        return null;
                    }),
                    validateField('validationPhone', () => {
                        const value = phoneField.value;
                        if (!value.trim()) return 'Phone is required';
                        if (!/^[0-9]{3}-[0-9]{3}-[0-9]{4}$/.test(value)) return 'Please enter phone in format: 123-456-7890';
                        return null;
                    }),
                    validateField('validationPassword', () => {
                        const value = passwordField.value;
                        if (!value) return 'Password is required';
                        if (value.length < 8) return 'Password must be at least 8 characters';
                        if (!/\d/.test(value)) return 'Password must contain at least one number';
                        if (!/[!@#$%^&*]/.test(value)) return 'Password must contain at least one special character';
                        return null;
                    }),
                    validateField('validationConfirm', () => {
                        const value = confirmField.value;
                        const passwordValue = passwordField.value;
                        if (!value) return 'Please confirm your password';
                        if (value !== passwordValue) return 'Passwords do not match';
                        return null;
                    })
                ].every(result => result);
                
                if (isValid) {
                    alert('Form is valid! Ready to submit.');
                }
            });
        }

        // HTML5 validation demo
        function toggleCustomValidity() {
            const field = document.getElementById('html5Pattern');
            if (field.validity.valid) {
                field.setCustomValidity('This is a custom error message!');
            } else {
                field.setCustomValidity('');
            }
        }

        // Best practices demo
        function setupBestPracticesDemo() {
            const form = document.getElementById('bestPracticesDemo');
            
            // Save form data on input
            form.addEventListener('input', saveFormData);
            
            // Handle form submission
            form.addEventListener('submit', handleFormSubmit);
            
            // Restore saved data on page load
            restoreFormData();
        }
        
        function saveFormData() {
            const form = document.getElementById('bestPracticesDemo');
            const data = {};
            
            for (let element of form.elements) {
                if (element.name && element.type !== 'password') {
                    if (element.type === 'checkbox') {
                        data[element.name] = element.checked;
                    } else {
                        data[element.name] = element.value;
                    }
                }
            }
            
            localStorage.setItem('bestPracticesFormData', JSON.stringify(data));
        }
        
        function restoreFormData() {
            const savedData = localStorage.getItem('bestPracticesFormData');
            if (savedData) {
                const data = JSON.parse(savedData);
                const form = document.getElementById('bestPracticesDemo');
                
                for (let [name, value] of Object.entries(data)) {
                    const element = form.elements[name];
                    if (element) {
                        if (element.type === 'checkbox') {
                            element.checked = value;
                        } else {
                            element.value = value;
                        }
                    }
                }
            }
        }
        
        function handleFormSubmit(event) {
            event.preventDefault();
            
            const submitBtn = document.getElementById('bestSubmitBtn');
            const submitText = document.getElementById('submitText');
            const submitLoading = document.getElementById('submitLoading');
            
            // Disable button and show loading state
            submitBtn.disabled = true;
            submitText.style.display = 'none';
            submitLoading.style.display = 'inline';
            
            // Simulate form processing
            setTimeout(() => {
                // Clear saved data after successful submission
                localStorage.removeItem('bestPracticesFormData');
                
                // Re-enable button
                submitBtn.disabled = false;
                submitText.style.display = 'inline';
                submitLoading.style.display = 'none';
                
                alert('Account created successfully!');
                
                // Reset form
                document.getElementById('bestPracticesDemo').reset();
            }, 2000);
        }

        // Initialize all demos when page loads
        document.addEventListener('DOMContentLoaded', function() {
            setupEventDemo();
            setupValidation();
            setupBestPracticesDemo();
            
            console.log('Forms demo initialized successfully!');
        });
    </script>
</body>
</html>